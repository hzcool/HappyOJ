(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d96cd5e"],{"0899":function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.loaded?r("div",[r("h1",[t._v("比赛:"+t._s(this.id))]),r("br"),r("Card",[r("h1",[t._v("说明")]),r("h3",[t._v("1. 比赛题目数量不能超过26 ")]),r("h3",[t._v("2. 题目会自动生成连续标号,移除时也会自动跳整标号. 操作完之后提交方能生效")]),r("h3",[t._v("3. 建议不要用公共题库的题目")]),r("Divider"),t._l(t.num,(function(e){return r("div",{key:e,staticClass:"row"},[r("Row",[r("i-col",{attrs:{span:"3"}},[r("strong",[r("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("题目标号:"+t._s(t.labels[e-1]))])]),r("i-col",{attrs:{span:"6"}},[r("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"Like U1000"},on:{"on-blur":function(r){return t.searchProbelmTitle(e-1)}},model:{value:t.problems[e-1],callback:function(r){t.$set(t.problems,e-1,r)},expression:"problems[cnt-1]"}})],1),r("i-col",{staticStyle:{color:"crimson"},attrs:{span:"5"}},[0==t.err[e-1]?r("span",{staticStyle:{color:"red"}},[t._v(" 请输入题号 ")]):1==t.err[e-1]?r("span",{staticStyle:{color:"red"}},[t._v(" 找不到该题 ")]):r("span",{staticStyle:{color:"green"}},[t._v(" "+t._s(t.titles[e-1])+" ")])]),r("i-col",{attrs:{span:"2"}},[r("Button",{attrs:{type:"error"},on:{click:function(r){return t.removeProblem(e-1)}}},[t._v(" 移除 ")])],1)],1),r("br")],1)})),r("Row",{staticClass:"row"},[r("Button",{attrs:{type:"success"},on:{click:t.addProblem}},[t._v(" 添加题目 ")]),r("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"error"},on:{click:t.removeAllProblem}},[t._v(" 移除全部 ")])],1),r("Divider"),r("Button",{attrs:{type:"primary",size:"large"},on:{click:t.submit}},[t._v(" 提交 ")])],2)],1):t._e()},s=[],n=(r("fb6a"),r("a434"),r("498a"),{data:function(){return{id:0,problems:[],labels:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],titles:[],err:[],num:0,loaded:!1}},methods:{addProblem:function(){this.num>=26?alert("题目数量超出限制"):(this.problems.push(""),this.titles.push(""),this.err.push(0),this.num++)},removeProblem:function(t){0!=this.num?(this.problems.splice(t,1),this.titles.splice(t,1),this.err.splice(t,1),this.num--):this.$message("error","题目为空，无法移除")},removeAllProblem:function(){this.num=0,this.problems=[],this.titles=[],this.err=[]},searchProbelmTitle:function(t){var e=this;this.problems[t]=this.problems[t].trim(),""!=this.problems[t]?this.$req.get({url:"searchProbelmTitle",params:{index:this.problems[t]}}).then((function(r){"找不到该题"!=r?(e.$set(e.titles,t,r),e.$set(e.err,t,2)):(e.$set(e.titles,t,""),e.$set(e.err,t,1))})):this.$set(this.err,t,0)},validate:function(){for(var t=0;t<this.num;t++)if(0==this.err[t]||1==this.err[t])return"请修正题目错误";return""},submit:function(){var t=this,e=this.validate();if(e)alert(e);else{var r=new FormData,i={headers:{"Content-Type":"multipart/form-data"}};r.append("id",this.id),r.append("problems",JSON.stringify(this.problems)),r.append("labels",JSON.stringify(this.labels.slice(0,this.num))),this.$req.post({url:"addCproblems",form:r,config:i}).then((function(e){e&&t.$message("success","提交成功")}))}}},mounted:function(){var t=this;this.$route.query.id?(this.id=this.$route.query.id,this.$req.get({url:"getCproblems",params:{id:this.id}}).then((function(e){if(e){if(t.num=e.num,t.num){t.problems=e.problems,t.titles=e.titles;for(var r=0;r<t.num;r++)t.err.push(2)}t.loaded=!0}}))):(this.$message("error","出错"),this.$router.push({name:"contestManage"}))}}),o=n,l=r("2877"),a=Object(l["a"])(o,i,s,!1,null,null,null);e["default"]=a.exports},"498a":function(t,e,r){"use strict";var i=r("23e7"),s=r("58a8").trim,n=r("c8d2");i({target:"String",proto:!0,forced:n("trim")},{trim:function(){return s(this)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var i=r("1d80"),s=r("5899"),n="["+s+"]",o=RegExp("^"+n+n+"*"),l=RegExp(n+n+"*$"),a=function(t){return function(e){var r=String(i(e));return 1&t&&(r=r.replace(o,"")),2&t&&(r=r.replace(l,"")),r}};t.exports={start:a(1),end:a(2),trim:a(3)}},a434:function(t,e,r){"use strict";var i=r("23e7"),s=r("23cb"),n=r("a691"),o=r("50c4"),l=r("7b0b"),a=r("65f0"),c=r("8418"),u=r("1dde"),h=r("ae40"),p=u("splice"),m=h("splice",{ACCESSORS:!0,0:0,1:2}),d=Math.max,f=Math.min,b=9007199254740991,v="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!p||!m},{splice:function(t,e){var r,i,u,h,p,m,g=l(this),y=o(g.length),_=s(t,y),S=arguments.length;if(0===S?r=i=0:1===S?(r=0,i=y-_):(r=S-2,i=f(d(n(e),0),y-_)),y+r-i>b)throw TypeError(v);for(u=a(g,i),h=0;h<i;h++)p=_+h,p in g&&c(u,h,g[p]);if(u.length=i,r<i){for(h=_;h<y-i;h++)p=h+i,m=h+r,p in g?g[m]=g[p]:delete g[m];for(h=y;h>y-i+r;h--)delete g[h-1]}else if(r>i)for(h=y-i;h>_;h--)p=h+i-1,m=h+r-1,p in g?g[m]=g[p]:delete g[m];for(h=0;h<r;h++)g[h+_]=arguments[h+2];return g.length=y-i+r,u}})},c8d2:function(t,e,r){var i=r("d039"),s=r("5899"),n="​᠎";t.exports=function(t){return i((function(){return!!s[t]()||n[t]()!=n||s[t].name!==t}))}},fb6a:function(t,e,r){"use strict";var i=r("23e7"),s=r("861d"),n=r("e8b5"),o=r("23cb"),l=r("50c4"),a=r("fc6a"),c=r("8418"),u=r("b622"),h=r("1dde"),p=r("ae40"),m=h("slice"),d=p("slice",{ACCESSORS:!0,0:0,1:2}),f=u("species"),b=[].slice,v=Math.max;i({target:"Array",proto:!0,forced:!m||!d},{slice:function(t,e){var r,i,u,h=a(this),p=l(h.length),m=o(t,p),d=o(void 0===e?p:e,p);if(n(h)&&(r=h.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)?s(r)&&(r=r[f],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return b.call(h,m,d);for(i=new(void 0===r?Array:r)(v(d-m,0)),u=0;m<d;m++,u++)m in h&&c(i,u,h[m]);return i.length=u,i}})}}]);