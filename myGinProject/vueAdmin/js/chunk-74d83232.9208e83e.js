(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74d83232"],{3424:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loaded?s("div",[s("div",[""!=t.form.index?s("h1",[t._v(" 题号 : "+t._s(t.form.index))]):s("h1",[t._v(" 创建题目 ")])]),s("br"),t._m(0),s("Row",{staticClass:"row"},[s("i-col",{attrs:{span:"3"}},[s("strong",[t._v("作者")])]),s("i-col",{attrs:{span:"6"}},[s("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"Enter something..."},model:{value:t.form.author,callback:function(e){t.$set(t.form,"author",e)},expression:"form.author"}})],1)],1),s("Divider"),s("Row",{staticClass:"row"},[s("i-col",{attrs:{span:"3"}},[s("strong",[t._v("来源")])]),s("i-col",{attrs:{span:"6"}},[s("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"Enter something..."},model:{value:t.form.source,callback:function(e){t.$set(t.form,"source",e)},expression:"form.source"}})],1)],1),s("Divider"),t._m(1),s("RadioGroup",{model:{value:t.kind,callback:function(e){t.kind=e},expression:"kind"}},[s("Radio",{staticStyle:{color:"black"},attrs:{label:"normal"}},[t._v(" 正常题 ")]),s("Radio",{staticStyle:{color:"black","margin-left":"30px"},attrs:{label:"spj"}},[t._v(" 特判题 ")])],1),"spj"==t.kind?s("Row",{staticClass:"row"},[s("i-col",{attrs:{span:"8"}},[s("span",{staticStyle:{color:"black"}},[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("请导入特判文件")]),s("Upload",{staticStyle:{width:"220px"},attrs:{action:"#","before-upload":t.spj_before_upload,type:"drag"}},[s("Button",{staticStyle:{float:"left"},attrs:{icon:"ios-cloud-upload-outline",type:"success"}},[t._v("上传(spj.c, spj.cpp, spj.py)")])],1)],1),""!=t.spj_already_file?s("i-col",[t._v(" 已上传 "),s("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(t.spj_already_file)+" ")])]):t._e()],1):t._e(),t.spj_file?s("div",[t._v(" "+t._s(t.spj_file.name)+" "),s("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"error"},on:{click:t.spj_remove_file}},[t._v(" 移除 ")])],1):t._e(),s("Divider"),t._m(2),s("br"),s("Row",[s("i-col",{attrs:{span:"4"}},[s("Upload",{attrs:{"before-upload":t.before_upload,type:"drag",action:"#"}},[s("div",{staticStyle:{padding:"20px 0"}},[s("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),s("p",[t._v("选择文件")])],1)])],1),""!=t.already_file?s("i-col",[t._v(" 已上传 "),s("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(t.already_file)+" ")]),t._v(" "),s("Button",{attrs:{type:"error"},on:{click:t.delFile}},[t._v(" 删除 ")])],1):t._e()],1),t.choose_file?s("div",[t._v(" "+t._s(t.choose_file.name)+" "),s("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"error"},on:{click:t.remove_file}},[t._v(" 移除 ")])],1):t._e(),s("br"),t._m(3),s("Row",{staticClass:"row"},[s("i-col",{attrs:{span:"3"}},[s("strong",[t._v("题目")])]),s("i-col",{attrs:{span:"6"}},[s("Input",{staticStyle:{width:"300px"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1),s("Divider"),s("Row",{staticClass:"row"},[s("i-col",{attrs:{span:"3"}},[s("strong",[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("时间限制(MS)")])]),s("i-col",{attrs:{span:"6"}},[s("InputNumber",{staticStyle:{width:"300px"},attrs:{max:4e4,min:100},model:{value:t.form.time_limit,callback:function(e){t.$set(t.form,"time_limit",e)},expression:"form.time_limit"}})],1)],1),s("Divider"),s("Row",{staticClass:"row"},[s("i-col",{attrs:{span:"3"}},[s("strong",[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("空间限制(MB)")])]),s("i-col",{attrs:{span:"6"}},[s("InputNumber",{staticStyle:{width:"300px"},attrs:{max:2048,min:32},model:{value:t.form.memory_limit,callback:function(e){t.$set(t.form,"memory_limit",e)},expression:"form.memory_limit"}})],1)],1),s("Divider"),s("Row",{staticClass:"row"},[s("i-col",{attrs:{span:"3"}},[s("strong",[t._v("背景说明")])]),s("mavon-editor",{model:{value:t.form.background,callback:function(e){t.$set(t.form,"background",e)},expression:"form.background"}})],1),s("Divider"),s("Row",{staticClass:"row"},[s("i-col",{attrs:{span:"3"}},[s("strong",[t._v("题面描述")])]),s("mavon-editor",{model:{value:t.form.statement,callback:function(e){t.$set(t.form,"statement",e)},expression:"form.statement"}})],1),s("Divider"),s("Row",{staticClass:"row"},[s("i-col",{attrs:{span:"3"}},[s("strong",[t._v("输入说明")])]),s("mavon-editor",{model:{value:t.form.input,callback:function(e){t.$set(t.form,"input",e)},expression:"form.input"}})],1),s("Divider"),s("Row",{staticClass:"row"},[s("i-col",{attrs:{span:"3"}},[s("strong",[t._v("输出说明")])]),s("mavon-editor",{model:{value:t.form.output,callback:function(e){t.$set(t.form,"output",e)},expression:"form.output"}})],1),s("Divider"),s("Row",{staticClass:"row"},[s("i-col",{attrs:{span:"3"}},[s("strong",[t._v("提示")])]),s("mavon-editor",{model:{value:t.form.hint,callback:function(e){t.$set(t.form,"hint",e)},expression:"form.hint"}})],1),s("Divider"),t._m(4),t._l(t.num,(function(e){return s("div",{key:e,staticStyle:{"margin-top":"10px",color:"black"}},[s("Row",[s("i-col",{attrs:{span:"10"}},[s("strong",[t._v("输入样例"+t._s(e))])]),s("i-col",{attrs:{span:"10"}},[s("strong",[t._v("输出样例"+t._s(e))])])],1),s("Row",[s("i-col",{attrs:{span:"10"}},[s("Input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:4,placeholder:"Enter something..."},model:{value:t.form.examples_in[e-1],callback:function(s){t.$set(t.form.examples_in,e-1,s)},expression:"form.examples_in[cnt-1]"}})],1),s("i-col",{attrs:{span:"10"}},[s("Input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:4,placeholder:"Enter something..."},model:{value:t.form.examples_out[e-1],callback:function(s){t.$set(t.form.examples_out,e-1,s)},expression:"form.examples_out[cnt-1]"}})],1)],1)],1)})),s("div",{staticStyle:{"margin-top":"20px"}},[s("Button",{attrs:{size:"large",type:"success"},on:{click:t.addExample}},[t._v(" 增加样例 ")]),s("Button",{staticStyle:{"margin-left":"20px"},attrs:{size:"large",type:"error"},on:{click:t.removeExample}},[t._v(" 减少样例 ")])],1),s("Divider"),t._m(5),s("RadioGroup",{model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[s("Radio",{staticStyle:{color:"black"},attrs:{label:"隐藏"}},[t._v(" 隐藏不可见 ")]),s("Radio",{staticStyle:{color:"black","margin-left":"30px"},attrs:{label:"公开"}},[t._v(" 公开到公共题库 ")])],1),s("Divider"),s("Button",{attrs:{type:"primary",size:"large"},on:{click:t.submit}},[t._v(" 提交 ")])],2):t._e()},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"headblock"},[s("span",[t._v(" 版权信息 ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"headblock"},[s("span",[t._v(" 特判题?(Special Judge) ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"headblock"},[s("span",[t._v(" 题目文件（你可以直接选择上传pdf文件,题面将会以pdf链接的形式呈现） ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"headblock"},[s("span",[t._v(" 题目信息 ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"headblock"},[s("span",[t._v(" 样例输入输出 ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"headblock"},[s("span",[t._v(" 题目类型 ")])])}],a=(s("b0c0"),{data:function(){return{form:{index:"",author:this.$store.state.name,source:"",title:"",background:"",statement:"",input:"",output:"",examples_in:[""],examples_out:[""],hint:"",time_limit:1e3,memory_limit:128,file_name:"",type:!1,spj:!1,spj_type:""},loaded:!1,type:"隐藏",kind:"normal",choose_file:null,already_file:"",spj_file:null,spj_already_file:"",num:1}},methods:{addExample:function(){this.num>=5?this.$message("error","最多5个样例"):(this.form.examples_in.push(""),this.form.examples_out.push(""),this.num++)},removeExample:function(){this.num<=0?this.$message("error","样例不能再减少了"):(this.form.examples_in.pop(),this.form.examples_out.pop(),this.num--)},spj_before_upload:function(t){return this.spj_file=t,t},spj_remove_file:function(){this.spj_file=null},before_upload:function(t){return this.choose_file=t,this.form.file_name=t.name,!1},remove_file:function(){this.choose_file=null},validate:function(){if("spj"==this.kind){if(!this.spj_file&&""==this.spj_already_file)return"特判文件不能为空";if(this.spj_file){var t=this.spj_file.name;if("spj.c"==t)this.form.spj_type="C";else if("spj.cpp"==t)this.form.spj_type="C++";else{if("spj.py"!=t)return"特判文件名或类型不对";this.form.spj_type="Python3"}this.form.spj=!0}}return""},submit:function(){var t=this,e=this.validate();if(""==e){"公开"==this.type?this.form.type=!0:this.form.type=!1;var s=new FormData,i={headers:{"Content-Type":"multipart/form-data"}};s.append("problem",JSON.stringify(this.form)),this.choose_file&&s.append("file",this.choose_file),this.spj_file&&s.append("spj_file",this.spj_file),this.$req.post({url:"problemHandle",form:s,config:i}).then((function(e){e&&(t.form.index=e.index,t.choose_file&&(t.already_file=t.choose_file.name,t.choose_file=null),t.spj_file&&(t.spj_already_file=t.spj_file.name,t.spj_file=null),t.$message("success","上传成功"))}))}else this.$message("error",e)},delFile:function(){var t=this;this.$req.get({url:"delFile",params:{index:this.form.index}}).then((function(e){e&&(t.$message("success",e),t.already_file=t.form.file_name="")}))}},mounted:function(){var t=this;this.$route.params.index?this.$req.get({url:"getOneProblem",params:{index:this.$route.params.index}}).then((function(e){t.form=e,t.form.file_name&&(t.already_file=t.form.file_name),t.form.spj&&(t.kind="spj",t.spj_already_file="spj.cpp","C"==t.form.spj_type?t.spj_already_file="spj.c":"Python3"!=t.form.spj_type&&"Python2"!=t.form.spj_type||(t.spj_already_file="spj.py")),t.num=t.form.examples_in.length,t.form.type&&(t.type="公开"),t.loaded=!0})):this.loaded=!0}}),r=a,l=(s("7f36"),s("2877")),n=Object(l["a"])(r,i,o,!1,null,null,null);e["default"]=n.exports},"7f36":function(t,e,s){"use strict";var i=s("f724"),o=s.n(i);o.a},f724:function(t,e,s){}}]);