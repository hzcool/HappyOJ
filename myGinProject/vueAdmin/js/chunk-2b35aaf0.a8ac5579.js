(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b35aaf0"],{"394c":function(t,e,a){"use strict";var s=a("cd75"),o=a.n(s);o.a},"4b41":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loaded?a("div",[a("br"),0==t.form.id?a("h1",[t._v("创建比赛")]):a("h1",[t._v(" 考试ID:"+t._s(t.form.id))]),a("br"),a("div",{staticClass:"headblock"},[t._v(" 创建私有(公开)比赛 ")]),a("RadioGroup",{staticClass:"row",model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("Radio",{staticStyle:{color:"black"},attrs:{label:"private"}},[t._v(" 私有 ")]),a("Radio",{staticStyle:{color:"black","margin-left":"30px"},attrs:{label:"public"}},[t._v(" 公开 ")])],1),"private"==t.form.type?a("Row",{staticClass:"row"},[a("i-col",{attrs:{span:"3"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" "),a("strong",[t._v("比赛密码")])]),a("i-col",{attrs:{span:"6"}},[a("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"输入比赛密码",type:"password",password:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1):t._e(),a("Divider"),a("div",{staticClass:"headblock"},[t._v(" 赛制 ")]),a("RadioGroup",{staticClass:"row",model:{value:t.form.format,callback:function(e){t.$set(t.form,"format",e)},expression:"form.format"}},[a("Radio",{staticStyle:{color:"black"},attrs:{label:"ACM"}},[t._v(" ACM ")]),a("Radio",{staticStyle:{color:"black","margin-left":"40px"},attrs:{label:"OI"}},[t._v(" OI ")])],1),a("Divider"),a("div",{staticClass:"headblock"},[t._v(" 比赛信息 ")]),a("Row",{staticClass:"row"},[a("i-col",{attrs:{span:"3"}},[a("strong",[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("作者")])]),a("i-col",{attrs:{span:"6"}},[a("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"输入作者"},model:{value:t.form.author,callback:function(e){t.$set(t.form,"author",e)},expression:"form.author"}})],1)],1),a("Divider"),a("Row",{staticClass:"row"},[a("i-col",{attrs:{span:"3"}},[a("strong",[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("比赛标题")])]),a("i-col",{attrs:{span:"6"}},[a("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"输入比赛标题"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1),a("Divider"),a("Row",{staticClass:"row"},[a("i-col",{attrs:{span:"3"}},[a("strong",[t._v("比赛描述")])]),a("i-col",{attrs:{span:"10"}},[a("Input",{attrs:{type:"textarea",placeholder:"输入比赛描述",autosize:{minRows:3,maxRows:5}},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1)],1),a("Divider"),a("Row",{staticClass:"row"},[a("i-col",{attrs:{span:"3"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" "),a("strong",[t._v("开始时间")])]),a("DatePicker",{attrs:{value:t.form.begin,format:"yyyy/MM/dd  HH:mm:ss",type:"datetime"},on:{"on-change":t.beginChange}})],1),a("Row",{staticClass:"row"},[a("i-col",{attrs:{span:"3"}},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" "),a("strong",[t._v("结束时间")])]),a("DatePicker",{attrs:{value:t.form.end,format:"yyyy/MM/dd  HH:mm:ss",type:"datetime"},on:{"on-change":t.endChange}})],1),a("Divider"),a("Button",{attrs:{type:"primary",size:"large"},on:{click:t.submit}},[t._v(" 提交 ")])],1):t._e()},o=[],r={data:function(){return{form:{id:0,type:"private",password:"",format:"ACM",title:"",author:"super_admin",desc:"",begin:"",end:""},loaded:!1}},methods:{beginChange:function(t){this.form.begin=new Date(t)},endChange:function(t){this.form.end=new Date(t)},seTimetDefault:function(){var t=new Date;t.setDate(t.getDate()+1),this.form.begin=new Date(t.getFullYear(),t.getMonth(),t.getDate()),this.form.end=new Date(this.form.begin),this.form.end.setHours(this.form.end.getHours()+5)},validate:function(){if("private"==this.form.type&&""==this.form.password)return"密码不能为空";if(""==this.form.author)return"作者不能为空";if(""==this.form.title)return"标题不能为空";var t=new Date;return this.form.begin<=t?"考试开始时间必须大于当前时间":this.form.end<=this.form.begin?"考试结束时间必须晚于当前时间":""},submit:function(){var t=this,e=this.validate();if(e)this.$message("error",e);else{var a=new FormData,s={headers:{"Content-Type":"multipart/form-data"}};a.append("contest",JSON.stringify(this.form)),this.$req.post({url:"contestHandle",form:a,config:s}).then((function(e){e&&(t.form.id=e.id,t.$message("success","提交成功"))}))}}},mounted:function(){var t=this;this.$route.params.id?this.$req.get({url:"getContest",params:{id:this.$route.params.id}}).then((function(e){e&&(t.form=e,t.loaded=!0)})):(this.seTimetDefault(),this.loaded=!0)}},i=r,n=(a("394c"),a("2877")),l=Object(n["a"])(i,s,o,!1,null,null,null);e["default"]=l.exports},cd75:function(t,e,a){}}]);