(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-516c8f55"],{"2e8c":function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{style:t.backgroundDiv},[o("Affix",{attrs:{"offset-top":50}},[o("div",{staticClass:"block"},[o("h2",{staticStyle:{color:"#fff"}},[t._v("Happy Online Judge")]),o("Divider",{attrs:{size:"small"}}),0==t.type?o("div",[o("Form",{ref:"info",attrs:{model:t.info}},[o("h2",{staticStyle:{color:"#fff"}},[t._v("修改信息")]),t._v(" "),o("br"),o("FormItem",[o("Row",[o("Col",{staticStyle:{color:"#fff","font-size":"20px"},attrs:{span:"4"}},[o("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("用户名 ")]),o("Col",{attrs:{span:"18",offset:"1"}},[o("Input",{attrs:{type:"text",placeholder:"Username",size:"large",autofocus:"",clearable:""},model:{value:t.info.username,callback:function(e){t.$set(t.info,"username",e)},expression:"info.username"}},[o("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1)],1)],1),o("FormItem",[o("Row",[o("Col",{staticStyle:{color:"#fff","font-size":"20px"},attrs:{span:"4"}},[o("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("密 码 ")]),o("Col",{attrs:{span:"18",offset:"1"}},[o("Input",{attrs:{type:"password",placeholder:"Password",size:"large",clearable:""},model:{value:t.info.password,callback:function(e){t.$set(t.info,"password",e)},expression:"info.password"}},[o("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1)],1)],1),o("FormItem",[o("Row",[o("Col",{staticStyle:{color:"#fff","font-size":"20px"},attrs:{span:"4"}},[o("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("邮 箱 ")]),o("Col",{attrs:{span:"18",offset:"1"}},[o("Input",{attrs:{type:"text",disabled:"",placeholder:"Email",size:"large",clearable:""},model:{value:t.info.email,callback:function(e){t.$set(t.info,"email",e)},expression:"info.email"}},[o("Icon",{attrs:{slot:"prepend",type:"ios-mail-outline"},slot:"prepend"})],1)],1)],1)],1),o("FormItem",[o("Row",[o("Col",{staticStyle:{color:"#fff","font-size":"20px"},attrs:{span:"4"}},[o("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("学 校 ")]),o("Col",{attrs:{span:"18",offset:"1"}},[o("Input",{attrs:{type:"text",placeholder:"School",size:"large",clearable:""},model:{value:t.info.school,callback:function(e){t.$set(t.info,"school",e)},expression:"info.school"}},[o("Icon",{attrs:{slot:"prepend",type:"ios-school-outline"},slot:"prepend"})],1)],1)],1)],1),o("FormItem",[o("Col",{staticStyle:{color:"#fff","font-size":"20px"},attrs:{span:"4"}},[t._v(" 描 述 ")]),o("Col",{attrs:{span:"18",offset:"1"}},[o("Input",{attrs:{type:"textarea",rows:4,placeholder:"Enter something...",clearable:""},model:{value:t.info.description,callback:function(e){t.$set(t.info,"description",e)},expression:"info.description"}})],1)],1),o("br"),o("FormItem",[o("Row",{attrs:{type:"flex",justify:"center"}},[o("Col",{attrs:{span:"5"}},[o("Button",{attrs:{type:"primary",size:"large"},on:{click:t.submit}},[t._v("提交")])],1),o("Col",{attrs:{span:"5"}},[o("Button",{attrs:{type:"error",size:"large"},on:{click:t.clear}},[t._v("清空")])],1)],1)],1),o("br")],1),o("Row",{staticStyle:{"font-size":"20px",color:"#ddd"},attrs:{type:"flex",justify:"end"}},[o("Button",{staticStyle:{color:"red","margin-right":"10px"},attrs:{type:"dashed"},on:{click:t.changeType}},[t._v(" 修改密码 ")]),o("router-link",{attrs:{to:{name:"home"}}},[t._v(" 返回主页 ")])],1)],1):o("div",[o("Form",[o("h2",{staticStyle:{color:"#fff"}},[t._v("修改密码")]),t._v(" "),o("br"),o("FormItem",[o("Row",[o("Col",{staticStyle:{color:"#fff","font-size":"20px"},attrs:{span:"5"}},[o("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("旧密码 ")]),o("Col",{attrs:{span:"18",offset:"1"}},[o("Input",{attrs:{type:"password",placeholder:"old password",size:"large",clearable:""},model:{value:t.pwd.oldPassword,callback:function(e){t.$set(t.pwd,"oldPassword",e)},expression:"pwd.oldPassword"}},[o("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1)],1)],1),o("FormItem",[o("Row",[o("Col",{staticStyle:{color:"#fff","font-size":"20px"},attrs:{span:"5"}},[o("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("新密码 ")]),o("Col",{attrs:{span:"18",offset:"1"}},[o("Input",{attrs:{type:"password",placeholder:"new password",size:"large",clearable:""},model:{value:t.pwd.newPassword,callback:function(e){t.$set(t.pwd,"newPassword",e)},expression:"pwd.newPassword"}},[o("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1)],1)],1),o("FormItem",[o("Row",[o("Col",{staticStyle:{color:"#fff","font-size":"20px"},attrs:{span:"5"}},[o("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("重复新密码 ")]),o("Col",{attrs:{span:"18",offset:"1"}},[o("Input",{attrs:{type:"password",placeholder:"repeat",size:"large",clearable:""},model:{value:t.repeat,callback:function(e){t.repeat=e},expression:"repeat"}},[o("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1)],1)],1),o("FormItem",[o("Row",{attrs:{type:"flex",justify:"center"}},[o("Col",{attrs:{span:"5"}},[o("Button",{attrs:{type:"primary",size:"large"},on:{click:t.updatePassword}},[t._v("提交")])],1),o("Col",{attrs:{span:"5"}},[o("Button",{attrs:{type:"error",size:"large"},on:{click:t.clear2}},[t._v("清空")])],1)],1)],1)],1),o("Row",{staticStyle:{"font-size":"20px",color:"#ddd"},attrs:{type:"flex",justify:"end"}},[o("Button",{staticStyle:{color:"red","margin-right":"10px"},attrs:{type:"dashed"},on:{click:t.changeType}},[t._v(" 修改信息 ")]),o("router-link",{attrs:{to:{name:"home"}}},[t._v(" 返回主页 ")])],1)],1)],1)])],1)},a=[],r=(o("a4d3"),o("e01a"),o("ac1f"),o("38cf"),o("841c"),{name:"login",data:function(){return{backgroundDiv:{backgroundImage:"url("+o("8554")+")",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",height:"1100px"},pwd:{oldPassword:"",newPassword:""},repeat:"",type:0,info:{username:"",password:"",email:"",school:"",description:""}}},methods:{validate:function(t){return 0==t.username.length?"用户名不能为空":t.username.length>20?"用户名太长":-1!=t.username.search(" ")?"用户名不能包含空格":0==t.password.length?"密码不能为空":t.password.length>16?"密码太长":-1!=t.password.search(" ")?"密码不能包含空格":0==t.school.length?"学校不能为空":t.school.length>20?"学校名太长":-1!=t.school.search(" ")?"学校名不能包含空格":""},submit:function(){var t=this,e=this.validate(this.info);""!=e?this.$message("error",e):this.$req.post({url:"update",form:JSON.stringify(this.info),config:{headers:{"Content-Type":" application/json"}}}).then((function(e){200!=e.status?t.$message("error",e.data):(t.$message("success",e.data),t.$store.commit("Login",t.info.username))}))},changeType:function(){this.type^=1},clear:function(){this.info.description=this.info.school=this.info.email=this.info.username=this.info.password=""},validate2:function(t){return 0==t.oldPassword.length?"旧密码不能为空":t.oldPassword.length<6?"旧密码太短":t.oldPassword.length>16?"旧密码太长":t.oldPassword==t.newPassword?"新密码不能与旧密码相同":0==t.newPassword.length?"新密码不能为空":t.newPassword.length<6?"新密码太短":t.newPassword.length>16?"新密码太长":0==this.repeat.length?"请重复新密码":t.newPassword!=this.repeat?"两次密码输入不同":""},updatePassword:function(){var t=this,e=this.validate2(this.pwd);""!=e?this.$message("error",e):this.$req.post({url:"updatePassword",form:JSON.stringify(this.pwd),config:{headers:{"Content-Type":" application/json"}}}).then((function(e){e&&t.$message("success",e.data)}))},clear2:function(){this.repeat=this.pwd.newPassword=this.pwd.oldPassword=""}},mounted:function(){var t=this;this.$req.get({url:"profile"}).then((function(e){e&&(t.info.username=e.data.username,t.info.email=e.data.email,t.info.school=e.data.school,t.info.description=e.data.description)}))}}),n=r,l=(o("8992"),o("2877")),i=Object(l["a"])(n,s,a,!1,null,"6420bb50",null);e["default"]=i.exports},"3fe6":function(t,e,o){},8992:function(t,e,o){"use strict";var s=o("3fe6"),a=o.n(s);a.a}}]);